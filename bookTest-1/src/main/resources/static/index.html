<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
</head>
<body>
	<h1>Hello World</h1>
	<button id="get_string">data get from /String</button>
	<button id="get_json">data get from /Json</button>
	<button id = "get_vector">get table data from db</button>
	<br>
	<div>
		<input type = "text" id = "covers" value = "covers ex) 1"><br>
		<input type = "text" id = "date" value = "date ex) yyyy-MM-dd"><br>
		<input type = "text" id = "time" value = "time ex) hh:mm:ss"><br>
		<input type = "text" id = "tno" value = "table number ex) 1"><br>
		<input type = "text" id = "name" value = "name ex) kim"><br>
		<input type = "text" id = "phone" value = "phone ex) 010"><br>
		<button id = "reservation">reservation</button><br>
	</div>
	<a href = "/booking/index.html">bookingTab</a>
	<script>
	a = document.getElementById('get_string')
	b = document.getElementById('get_json')
	c = document.getElementById('get_vector')
	
	d = document.getElementById('reservation')
	
	a.addEventListener("click", () => {
		fetch('/String')
		.then(e => {
			return Promise.all([e.ok, e.text()])
			})
		.then(([responseOk, body]) => {
		console.log(body)
	})
	})
	
	
	b.addEventListener("click", () => {
		fetch('/Json')
		.then(e => e.json())
		.then(data => console.log(data))
	})
	
	c.addEventListener('click', () =>{
		fetch('/booking/tableNumbers')
		.then(e => e.json())
		.then(data => console.log(data))
	})
	
	d.addEventListener('click', () => {

		url = '/reservation?' +
				'covers=' + document.getElementById('covers').value +
				'&date=' + document.getElementById('date').value + 
				'&time=' + document.getElementById('time').value + 
				'&tno=' + document.getElementById('tno').value + 
				'&name=' + document.getElementById('name').value + 
				'&phone=' + document.getElementById('phone').value 

		fetch(url, {
			method: 'POST'
		})
	})
	</script>
</body>
</html>