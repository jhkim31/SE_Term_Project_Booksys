<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
</head>
<body>
	<h1>booking</h1>
	<div>
		<input type="text" id="covers" value="covers ex) 1"><br>
		<input type="text" id="date" value="date ex) yyyy-MM-dd"><br>
		<input type="text" id="time" value="time ex) hh:mm:ss"><br>
		<input type="text" id="tno" value="table number ex) 1"><br>
		<input type="text" id="name" value="name ex) kim"><br> <input
			type="text" id="phone" value="phone ex) 010"><br>
		<button id="reservation">reservation</button>
		<br>
	</div>
	
	<div>
		<input type="text" id="get_date" value="조회를 원하는 날짜"><br>
		<button id = "get_reservation_list">조회</button>
		<br>
		<input type="text" id="remove_reservation" value="삭제를 원하는 예약의 아이디"><br>
		<button id = "cancel_reservation">삭제</button>
	</div>
	<script>
		a = document.getElementById('reservation')
		b = document.getElementById('get_reservation_list')
		c = document.getElementById('cancel_reservation')
		
		a.addEventListener('click', () => {
		url = '/reservation/new_reservation?' +
				'covers=' + document.getElementById('covers').value +
				'&date=' + document.getElementById('date').value + 
				'&time=' + document.getElementById('time').value + 
				'&tno=' + document.getElementById('tno').value + 
				'&name=' + document.getElementById('name').value + 
				'&phone=' + document.getElementById('phone').value 

		fetch(url, {
			method: 'POST'
		})
		.then(e => e.json())
		.then(data => console.log(data))
	})
	
	b.addEventListener("click", () => {
		url = '/booking/get_booking_list?' + 
			'date=' + document.getElementById("get_date").value
		fetch(url)
		.then(e => e.json())
		.then(data => console.log(data))
	})
	
	c.addEventListener('click', () => {
		url = '/reservation/cancel_reservation?' +
			'index=' + document.getElementById("remove_reservation").value
		fetch(url, {
			method: 'POST'
			})
		.then(e => e.json())
		.then(data => console.log(data))
	})
	</script>
</body>
</html>